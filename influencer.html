<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Influencer</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div id="setup-root"></div>
    <div id="game-container">
        <div id="setup-screen" style="display:none;">
            <h1 class="game-name">Influencer</h1>
            <div id="rules">
                <p style="max-width:800px;margin:0 auto 18px auto;text-align:left;">Welcome to the world of social media superstardom! Each player is an influencer battling for the spotlight. The first to reach a <strong>Popularity Score of 40</strong> wins the game!</p>
                <details>
                    <summary>Your Turn</summary>
                    <div class="accordion-content">
                        <ol>
                            <li><strong>Draw a Card:</strong> Take a new content card from the deck.</li>
                            <li><strong>Post to Your Wall:</strong> Choose a card from your hand and add it to your Wall. If this makes 4 cards, the oldest post slides off into the Discard Pile. Any tokens on the sliding post are returned to their owners' token pool.</li>
                            <li><strong>Play Interaction Tokens (optional):</strong> You may play as many tokens as you wish, or none at all, before ending your turn.</li>
                            <li><strong>End Your Turn:</strong> Click 'End Turn' to calculate your new Popularity Score.</li>
                        </ol>
                    </div>
                </details>
                <details>
                    <summary>How to Score Points</summary>
                    <div class="accordion-content">
                        <ul>
                            <li>At the end of your turn, you gain Popularity Points from all posts you are currently scoring (including your Wall and any posts you are sharing).</li>
                            <li>Posts that match your Interest score for you every turn they are in play.</li>
                            <li>Any new post you play scores for you once, even if it doesn't match your Interest.</li>
                            <li>Tokens can change how much a post scores, or who gets points from it.</li>
                        </ul>
                    </div>
                </details>
                <details>
                    <summary>Interaction Tokens</summary>
                    <div class="accordion-content">
                        <ul>
                            <li><strong>Like:</strong> Place on any post to add +1 point to its score for as long as the token remains in play.</li>
                            <li><strong>Dislike:</strong> Place on any post to subtract 1 point from its score for as long as the token remains in play.</li>
                            <li><strong>Report:</strong> Place on an opponent's post to nullify its score for as long as the token remains in play.</li>
                            <li><strong>Share:</strong> Place on an opponent's post (that matches your Interest) to score from it every turn, as long as the token remains in play.</li>
                            <li><strong>Follow:</strong> Place on another player's profile to temporarily gain their Interest and score from their type of content as well as your own. This token is single-use and stays until you follow someone else or are banned.</li>
                            <li><strong>Ban:</strong> Place on an opponent's profile to remove all of their tokens from the board (including any Follow tokens) and send them to the Dump. The Ban token is also sent to the Dump after use.</li>
                </ul>
                    </div>
                </details>
            </div>
            <div class="setup-form">
                <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <label for="player-count" style="margin-bottom:0;">Number of Players:</label>
                    <select id="player-count" onchange="updatePlayerFields()">
                        <option value="" disabled selected>-</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                    </select>
                </div>
                <div id="player-fields">
                    <!-- Player fields will be generated by JS -->
                    </div>
                <div class="toggle-row">
                    <label for="network-cards-toggle">Network Cards:</label>
                    <label class="switch">
                        <input type="checkbox" id="network-cards-toggle" checked onchange="updateNetworkToggleLabel()">
                        <span class="slider round"></span>
                    </label>
                    <span id="network-cards-toggle-label" style="font-weight:bold;">ON</span>
                </div>
                <button id="start-game" onclick="startGame()">Start Game</button>
            </div>
        </div>
        <div id="game-board" style="display: none;">
            <div class="game-header">
                <div class="deck-info"></div>
                <h1 class="game-name">Influencer</h1>
                <div class="game-info-right">
                    <div class="discard-info"></div>
                    <div class="tokens-dump"></div>
                </div>
            </div>
            <div class="game-content"></div>
        </div>
        <div id="score-log" style="display:none;"></div>
        <div id="win-screen" style="display:none;"></div>
    </div>

    <div id="modal-overlay">
        <div id="modal-content">
            <button id="modal-close" onclick="closeModal()">X</button>
            <div id="modal-body"></div>
                        </div>
                    </div>

    <script src="script.js"></script>
</body>
</html>